(()=>{"use strict";var t={365:(t,e,n)=>{n.d(e,{A:()=>c});var r=n(601),o=n.n(r),a=n(314),i=n.n(a)()(o());i.push([t.id,"#content {\n  display: flex;\n}\n\n#opponent {\n  aspect-ratio: 1/1;\n  display: grid;\n  grid-auto-flow: column;\n  grid-template-columns: repeat(11, minmax(50px, 75px));\n  grid-template-rows: repeat(11, minmax(50px, 75px));\n}\n\n#own {\n  aspect-ratio: 1/1;\n  display: grid;\n  grid-auto-flow: column;\n  grid-template-columns: repeat(11, minmax(25px, 50px));\n  grid-template-rows: repeat(11, minmax(25px, 50px));\n}\n\n.cell,\n.alpha,\n.numb {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.cell {\n  border: 1px solid black;\n}\n\n.alpha {\n  grid-column: 1/-12;\n}\n\n.numb {\n  grid-row: 11;\n}\n\n#modal {\n  display: none;\n  position: fixed;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n  left: 0;\n  top: 0;\n  overflow: auto;\n  background-color: rgba(0, 0, 0, 0.4);\n}\n\n#modal-content {\n  flex-direction: column;\n  background-color: white;\n  width: fit-content;\n  position: fixed;\n  border: 2px solid black;\n  border-radius: 10%;\n  padding: 50px;\n}\n\n.drag {\n  background-color: green;\n}\n",""]);const c=i},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,a){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);r&&i[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),e.push(u))}},e}},601:t=>{t.exports=function(t){return t[1]}},72:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var a={},i=[],c=0;c<t.length;c++){var s=t[c],l=r.base?s[0]+r.base:s[0],u=a[l]||0,d="".concat(l," ").concat(u);a[l]=u+1;var f=n(d),p={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==f)e[f].references++,e[f].updater(p);else{var m=o(p,r);r.byIndex=c,e.splice(c,0,{identifier:d,updater:m,references:1})}i.push(d)}return i}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var a=r(t=t||[],o=o||{});return function(t){t=t||[];for(var i=0;i<a.length;i++){var c=n(a[i]);e[c].references--}for(var s=r(t,o),l=0;l<a.length;l++){var u=n(a[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}a=s}}},659:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={id:r,exports:{}};return t[r](a,a.exports,n),a.exports}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i(r.key),r)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function i(t){var e=function(t){if("object"!=r(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0;const c=a((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ship,this.hit=!1}));function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t){if("object"!=s(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==s(e)?e:e+""}const d=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.board=new Array(10);for(var e=0;e<this.board.length;e++){this.board[e]=new Array(10);for(var n=0;n<this.board.length;n++)this.board[e][n]=new c}this.sunkCount=0},e=[{key:"place",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vert";if("vert"===r&&t.length+n>10||"hori"===r&&t.length+e>10)throw new Error("Out of Area");for(var o=0;o<t.length;o++){var a="vert"===r?e:e+o,i="vert"===r?n+o:n;if(this.board[a][i].ship)throw new Error("Ship already placed")}for(var c=0;c<t.length;c++){var s="vert"===r?e:e+c,l="vert"===r?n+c:n;this.board[s][l].ship=t}return this.board[e][n]}},{key:"recieveAttack",value:function(t,e){var n=this.board[t][e];if(n.hit)throw new Error("Cell already hit");return n.ship?(n.ship.hit(),n.ship.isSunk()&&this.sunkCount++,n.hit=!0):(n.hit=!0,!1)}},{key:"allSunk",value:function(){return 5==this.sunkCount}},{key:"placeShipsRandom",value:function(t){for(var e in t)for(var n=!1;!n;)try{this.place(t[e],Math.floor(10*Math.random()),Math.floor(10*Math.random())),n=!0}catch(t){}}}],e&&l(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m(r.key),r)}}function m(t){var e=function(t){if("object"!=f(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==f(e)?e:e+""}const h=function(){return t=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ship";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.length=e,this.hits=0,this.sunk=!1,this.name=n},(e=[{key:"hit",value:function(){return this.hits++,this.hits}},{key:"isSunk",value:function(){return this.hits>=this.length?this.sunk=!0:this.sunk=!1,this.sunk}}])&&p(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b(r.key),r)}}function b(t){var e=function(t){if("object"!=v(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=v(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==v(e)?e:e+""}const g=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameboard=new d,this.name=e,this.ships={carrier:new h(5,"car"),battleship:new h(4,"bat"),destroyer:new h(3,"des"),submarine:new h(3,"sub"),patrolboat:new h(2,"pat")}},(e=[{key:"resetBoard",value:function(){return this.ships={carrier:new h(5,"car"),battleship:new h(4,"bat"),destroyer:new h(3,"des"),submarine:new h(3,"sub"),patrolboat:new h(2,"pat")},this.gameboard=new d}}])&&y(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),w=function(t){for(var e=document.querySelector(t);e.hasChildNodes();)e.removeChild(e.firstChild)};var x=function(t){var e=t.gameboard.board,n=document.querySelector("#content"),r=document.createElement("div");r.id="opponent",n.appendChild(r);var o=document.createElement("div");o.id="empty",r.appendChild(o);var a="vert",i=document.createElement("div");i.id="shipContainer",n.appendChild(i);var c=function(e){var n=document.createElement("div");n.textContent=e,n.id=e,n.draggable=!0,n.addEventListener("dragstart",(function(n){n.ctrlKey&&(a="vert"==a?"hori":"vert"),n.dataTransfer.setData("ship",n.target.id),n.dataTransfer.setData("length",t.ships[e].length)})),i.appendChild(n)};for(var s in t.ships)c(s);r.addEventListener("drop",(function(e){if(e.target.closest(".cell")){e.preventDefault();var n=e.target.closest(".cell"),r=e.dataTransfer.getData("ship");try{t.gameboard.place(t.ships[r],Number(n.dataset.x),Number(n.dataset.y),a),delete t.ships[r],w("#content"),x(t)}catch(t){}}})),r.addEventListener("dragover",(function(t){t.preventDefault(),t.dataTransfer.dropEffect="move"})),r.addEventListener("dragenter",(function(t){if(document.querySelectorAll(".drag").forEach((function(t){t.classList.remove("drag")})),t.target.closest(".cell"))for(var e=t.dataTransfer.getData("length"),n=Number(t.target.closest(".cell").dataset.x),r=Number(t.target.closest(".cell").dataset.y),o=0;o<e;o++){var i="hori"==a?n+o:n,c="hori"==a?r:r+o;i<=9&&c<=9&&document.querySelector('[data-x="'.concat(i,'"][data-y="').concat(c,'"]'))&&document.querySelector('[data-x="'.concat(i,'"][data-y="').concat(c,'"]')).classList.add("drag")}})),r.addEventListener("dragend",(function(){document.querySelectorAll(".drag").forEach((function(t){t.classList.remove("drag")}))}));var l=document.createElement("button");l.textContent="Start Game",l.addEventListener("click",(function(){0==Object.keys(t.ships).length&&P.intializeGame()})),i.appendChild(l);var u=65;e.forEach((function(t,n){var o=document.createElement("div"),a=document.createElement("div");o.textContent=String.fromCharCode(u),o.classList="alpha",u++,a.textContent=e.indexOf(t)+1,a.classList="numb",r.appendChild(o),t.forEach((function(t,e){var o=document.createElement("div");o.classList="cell",t.hit&&t.ship?(o.textContent="X",t.ship.isSunk()&&(o.textContent="sunk")):t.hit&&!t.ship?o.textContent="O":!t.hit&&t.ship?o.textContent=t.ship.name:(o.textContent="-",o.dataset.x=n,o.dataset.y=e),r.appendChild(o)})),r.appendChild(a)}))};const S=x,C=function(t){var e=document.querySelector("#modal");e.style.display="flex";var n=document.querySelector("#restart");document.querySelector("#modal-text").textContent="".concat(t," won!"),n.addEventListener("click",(function(){e.style.display="none",w("#content"),P.getActivePlayer().resetBoard(),S(P.getActivePlayer())}))};var E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"PVP",e=new g,n=new g,r=e,o=function(){return r=r==e?n:e},a=function(){return r},i=function(){return r==e?n:e},c=function(){w("#content"),A(i().gameboard.board),A(a().gameboard.board,"own")},s=function(){for(var t=!1;!t;)try{var e=i().gameboard.recieveAttack(Math.floor(10*Math.random()),Math.floor(10*Math.random()));if(t=!0,i().gameboard.allSunk())return void C(i().name);e?s():(o(),c())}catch(t){}};return{getActivePlayer:a,switchActivePlayer:o,getInactivePlayer:i,intializeGame:function(){r=e,i().resetBoard(),i().gameboard.placeShipsRandom(i().ships),c()},playTurn:function(e,r){try{var l=i().gameboard.recieveAttack(e,r);if(c(),i().gameboard.allSunk())return void C(a().name);if(l)return;o(),a()==n&&"AI"==t&&s()}catch(t){}},updateScreen:c}},k=E("AI");E("PVP");const P=k,A=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"opponent",n=document.querySelector("#content"),r=document.createElement("div");r.id=e,n.appendChild(r);var o=document.createElement("div");o.id="empty",r.appendChild(o);var a=65;"own"!=e&&r.addEventListener("click",(function(t){var e=t.target.closest(".cell");e&&P.playTurn(Number(e.dataset.x),Number(e.dataset.y))})),t.forEach((function(n,o){var i=document.createElement("div"),c=document.createElement("div");i.textContent=String.fromCharCode(a),i.classList="alpha",a++,c.textContent=t.indexOf(n)+1,c.classList="numb",r.appendChild(i),n.forEach((function(t,n){var a=document.createElement("div");a.classList="cell",t.hit&&t.ship?(a.textContent="X",t.ship.isSunk()&&(a.textContent="sunk")):t.hit&&!t.ship?a.textContent="O":!t.hit&&t.ship&&"own"==e?a.textContent=t.ship.name:(a.textContent="-","own"!=e&&(a.dataset.x=o,a.dataset.y=n)),r.appendChild(a)})),r.appendChild(c)}))};var T=n(72),j=n.n(T),L=n(825),O=n.n(L),M=n(659),q=n.n(M),N=n(56),I=n.n(N),D=n(540),R=n.n(D),z=n(113),B=n.n(z),G=n(365),F={};F.styleTagTransform=B(),F.setAttributes=I(),F.insert=q().bind(null,"head"),F.domAPI=O(),F.insertStyleElement=R(),j()(G.A,F),G.A&&G.A.locals&&G.A.locals,S(P.getActivePlayer())})();